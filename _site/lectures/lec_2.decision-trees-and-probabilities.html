<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-00b3e0f491c887a031945d3e0bd25d56.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.8.24">

  <title>Decision Analysis Workshop – Decision Trees &amp; Probabilities</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto-0667623e39e345170d362296defe6630.css">
  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Decision Trees &amp; Probabilities</h1>

<div class="quarto-title-authors">
</div>

</section>
<section>
<section id="learning-objectives-and-outline" class="title-slide slide level1 center">
<h1>Learning Objectives and Outline</h1>

</section>
<section id="learning-objectives" class="slide level2">
<h2>Learning Objectives</h2>
<ul>
<li><p>Construct and solve a decision problem by calculating an intervention’s <strong>expected value</strong> across competing strategies in a decision tree</p></li>
<li><p>Determine the decision threshold across a range of scenarios</p></li>
<li><p>Differentiate between joint and conditional probabilities and demonstrate their use in decision trees</p></li>
</ul>
</section>
<section id="outline" class="slide level2">
<h2>Outline</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ol type="1">
<li>Structure</li>
<li>Probability review</li>
<li>Probabilities within decision trees</li>
</ol>
</div><div class="column" style="width:50%;">
<ol start="4" type="1">
<li>Strengths/limitations of decision trees</li>
</ol>
</div></div>
</section></section>
<section>
<section id="the-structure-of-a-decision-analysis" class="title-slide slide level1 center" data-background="#43464B">
<h1>The Structure of a Decision Analysis</h1>

</section>
<section id="recap-decision-analysis" class="slide level2" data-background="#43464B">
<h2>Recap: Decision Analysis</h2>
<p><br></p>
<ul>
<li class="fragment"><p>Aims to inform choice under uncertainty using an explicit, quantitative approach</p></li>
<li class="fragment"><p>Aims to identify, measure, &amp; value the <strong>consequences of decisions</strong> (risks/benefits) &amp; uncertainty when a decision needs to be made, most appropriately over time</p></li>
</ul>
</section></section>
<section>
<section id="should-i-go-to-the-beach-or-stay-home" class="title-slide slide level1 center" data-background="#c2f0c2">
<h1>Should I go to the beach or stay home?</h1>

</section>
<section id="should-i-go-to-the-beach-or-stay-home-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Should I go to the beach or stay home?</h2>
<h4 id="possible-states-of-the-world">Possible States of the World:</h4>
<ul>
<li>At the beach with no rain.</li>
<li>At the beach with rain.</li>
<li>At home with no rain.</li>
<li>At home with rain.</li>
</ul>
</section>
<section id="should-i-go-to-the-beach-or-stay-home-2" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Should I go to the beach or stay home?</h2>
<h3 id="considerations">Considerations:</h3>
<ul>
<li><span style="color: green;">Likelihood of rain</span></li>
<li><span style="color: green;">My overall well being when</span>
<ul>
<li>At the beach with no rain.</li>
<li>At the beach with rain.</li>
<li>At home with no rain.</li>
<li>At home with rain.</li>
</ul></li>
</ul>
</section>
<section id="should-i-go-to-the-beach-or-stay-home-3" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Should I go to the beach or stay home?</h2>
<h3 id="considerations-1">Considerations:</h3>
<ul>
<li><span style="color: green;">Likelihood of rain</span> –&gt; <strong>probabilities</strong></li>
<li><span style="color: green;">My overall well being when</span>
<ul>
<li>At the beach with no rain.</li>
<li>At the beach with rain.</li>
<li>At home with no rain.</li>
<li>At home with rain.</li>
</ul></li>
</ul>
</section>
<section id="should-i-go-to-the-beach-or-stay-home-4" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Should I go to the beach or stay home?</h2>
<h3 id="considerations-2">Considerations:</h3>
<ul>
<li><span style="color: green;">Likelihood of rain</span> –&gt; <strong>probabilities</strong></li>
<li><span style="color: green;">My overall well being when</span>
<ul>
<li>At the beach with no rain. –&gt; <strong>payoff</strong></li>
<li>At the beach with rain. –&gt; <strong>payoff</strong></li>
<li>At home with no rain. –&gt; <strong>payoff</strong></li>
<li>At home with rain. –&gt; <strong>payoff</strong></li>
</ul></li>
</ul>
</section>
<section id="decision-trees" class="slide level2">
<h2>Decision Trees</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li class="fragment">A square decision node indicates a decision point between alternative options.</li>
<li class="fragment">A circular chance node shows a point where two or more alternative events for a patient are possible.</li>
</ul>
</div></div>
</section>
<section id="decision-trees-1" class="slide level2">
<h2>Decision Trees</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>A square decision node indicates a decision point between alternative options.</li>
<li>A circular chance node shows a point where two or more alternative events for a patient are possible.</li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="media/lec_conceptual-and-theoretical-frameworks/dt_key.png"></p>
</div></div>
<aside class="notes">
<ol type="1">
<li><p>We start with a decision node – which just visually shows the decision point (so no probabilities are attached here)</p></li>
<li><p>From our decision node, we would then want to create chance nodes, or probability nodes, to model out the probabilities of our different options</p></li>
<li><p>The corresponding events from the chance nodes need to sum to 1 as per the “law of total probability”</p></li>
</ol>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="decision-trees-2" class="slide level2">
<h2>Decision Trees</h2>
<ul>
<li class="fragment">Pathways are mutually exclusive sequences of events and are the routes through the tree.</li>
<li class="fragment">Probabilities show the likelihood of particular event occurring at a chance node.</li>
</ul>
</section>
<section id="should-i-go-to-the-beach-or-stay-home-5" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Should I go to the beach or stay home?</h2>
<h3 id="decision-tree">Decision Tree:</h3>

<img data-src="media/lec_conceptual-and-theoretical-frameworks/dt_beachhome1.png" class="quarto-figure quarto-figure-center r-stretch"><aside class="notes">
<ol start="2" type="1">
<li>The outcomes we care about for this model are RAIN versus NO RAIN, so we add that to the end of our branches, which represent the terminal nodes – or the end states of our model</li>
</ol>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="section" class="title-slide slide level1 center" data-background="#c2f0c2">
<h1><i class="fa-solid fa-cloud-rain" aria-label="cloud-rain"></i></h1>
<p>Probability of rain = 30%</p>
</section>
<section id="should-i-go-to-the-beach-or-stay-home-6" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Should I go to the beach or stay home?</h2>
<h3 id="decision-tree-1">Decision Tree:</h3>

<img data-src="media/lec_conceptual-and-theoretical-frameworks/dt_beachhome2.png" class="quarto-figure quarto-figure-center r-stretch"><aside class="notes">
<ol type="1">
<li>The probability of rain is 30% - whether you stay home or go to the beach &amp; we know that the branches have to add to 1 because of the law of total probability<br>
</li>
<li>However, we aren’t done yet, as ***It would be helpful if we had some way to VALUE the outcomes – in terms of say, rain at the beach, versus if it rained at home, etc.</li>
<li>**If you don’t place value on the different outcomes, then we are essentially saying that we value RAIN versus NO RAIN the same among the beach and home options</li>
<li>But if I had to guess, this probably isn’t true unless you’re the type of person that likes rain at the beach just as much as rain at home)</li>
</ol>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="should-i-go-to-the-beach-or-stay-home-7" class="slide level2">
<h2>Should I go to the beach or stay home?</h2>
<h3 id="payoffs">Payoffs</h3>
<table class="caption-top">
<thead>
<tr class="header">
<th>Scenario</th>
<th>Payoff</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>At beach, no rain</td>
<td>1.0</td>
</tr>
<tr class="even">
<td>At beach, rain</td>
<td>0.4</td>
</tr>
<tr class="odd">
<td>At home, no rain</td>
<td>0.8</td>
</tr>
<tr class="even">
<td>At home, rain</td>
<td>0.6</td>
</tr>
</tbody>
</table>
<div class="fragment">
<p>At beach, no rain &gt; At home, no rain &gt; At home, rain &gt; At beach, rain</p>
</div>
<aside class="notes">
<ol type="1">
<li>We will get into this down the line, but utilities are measured between 0 and 1.</li>
<li>For health states, for example, 0 = worst health &amp; 1 = perfect health</li>
<li>Here, we are valuing “beach, no rain” as the “most ideal state” we want to be in</li>
</ol>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="should-i-go-to-the-beach-or-stay-home-8" class="slide level2">
<h2>Should I go to the beach or stay home?</h2>
<h3 id="decision-tree-2">Decision Tree:</h3>

<img data-src="media/lec_conceptual-and-theoretical-frameworks/dt_beachhome3.png" class="quarto-figure quarto-figure-center r-stretch" style="width:50.0%"></section>
<section id="what-is-the-expected-value-of-going-to-the-beach" class="slide level2">
<h2>What is the expected value of going to the beach?</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><span class="math inline">\color{green}{0.82} = \underbrace{\color{red}{0.3} * \color{blue}{0.4}}_{\text{Rain}} + \underbrace{\color{red}{0.7} * \color{blue}{1.0}}_{\text{No Rain}}</span></p>
<ul>
<li>Probabilities in <span style="color: red;">red</span>.</li>
<li>Payoffs in <span style="color: blue;">blue</span>.</li>
<li>Expected value in <span style="color: green;">green</span>.</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="media/lec_conceptual-and-theoretical-frameworks/dt_beachhome_EVbeach.png" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div></div>
</section>
<section id="what-is-the-expected-value-of-staying-home" class="slide level2">
<h2>What is the expected value of staying home?</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><span class="math inline">\color{green}{0.74} = \underbrace{\color{red}{0.3} \cdot \color{blue}{0.6}}_{\text{Rain}} + \underbrace{\color{red}{0.7} \cdot \color{blue}{0.8}}_{\text{No Rain}}</span></p>
<ul>
<li>Probabilities in <span style="color: red;">red</span>.</li>
<li>Payoffs in <span style="color: blue;">blue</span>.</li>
<li>Expected value in <span style="color: green;">green</span>.</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="media/lec_conceptual-and-theoretical-frameworks/dt_beachhome_EVhome.png" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div></div>
</section></section>
<section>
<section id="beach" class="title-slide slide level1 center" data-background="#c2f0c2">
<h1><i class="fa-solid fa-circle-check" aria-label="circle-check"></i> Beach</h1>
<p>EV(Beach)=0.82 &gt; EV(Home)=0.74</p>
</section>
<section id="expected-values" class="slide level2">
<h2>Expected Values</h2>
<ul>
<li>Expected value = The sum of the multiplied probabilities for each chance option or intervention</li>
</ul>

<img data-src="images/expected value.png" width="269" class="r-stretch"><aside class="notes">
<p>Equation: 1 to infinity – represents the infinite # of branches in the decision tree. In our example, we only had 2 branches, but if you had 3 or 4 or 5… you would represent it as i=3, 4, 5 and then you multiply the probabilities.</p>
<p>Xi = payoff and P = probability</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="expected-values-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Expected Values</h2>
<div style="font-size: 0.8em">
<ul>
<li class="fragment"><p>The expected value within the context of decision trees are the “payoffs” weighted by their preceding probabilities</p></li>
<li class="fragment"><p>What we get is: the result that is expected ON AVERAGE for any one decision alternative (e.g.&nbsp;length of life, quality of life, lifetime costs)</p>
<ul>
<li class="fragment">Example: On average, patients given Treatment A will live 0.30 years longer than patients given Treatment B</li>
</ul></li>
</ul>
<div class="fragment">
<div class="callout callout-important callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<p>Maximizing expected value is a reasonable criterion for choice given uncertain prospects; though it does not necessarily promise the best results for any <strong>one individual</strong></p>
</div>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="determining-the-decision-threshold" class="title-slide slide level1 center" data-auto-animate="true">
<h1 data-id="quarto-animate-title">Determining the Decision Threshold</h1>

</section>
<section id="at-what-probability-p-are-the-two-choices-equal" class="slide level2">
<h2>At what probability <span class="math inline">p</span> are the two choices equal?</h2>
<div class="fragment">
<p>Suppose we want to know at what probability of rain <span class="math inline">p</span> we are indifferent between going to the beach vs.&nbsp;staying at home…</p>
</div>
<ul>
<li class="fragment"><p>Write the equation for each choice using a variable, p, for the probability in question</p></li>
<li class="fragment"><p>Set the equations equal to to one other and solve for p.</p></li>
</ul>
</section>
<section id="at-what-probability-p-are-the-two-choices-equal-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">At what probability <span class="math inline">p</span> are the two choices equal?</h2>
<p><strong>Beach:</strong> <span style="color:green;">0.82</span> = 0.3 x 0.4 + 0.7 x 1.0</p>
<p><strong>Home:</strong> <span style="color:green;">0.74</span> = 0.3 x 0.6 + 0.7 x 0.8</p>
</section>
<section id="at-what-probability-p-are-the-two-choices-equal-2" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">At what probability <span class="math inline">p</span> are the two choices equal?</h2>
<p><span class="math inline">\underbrace{0.3 * 0.4 + 0.7 * 1.0}_{\text{Beach}} = \underbrace{0.3 * 0.6 + 0.7 * 0.8}_{\text{Home}}</span></p>
</section>
<section id="at-what-probability-p-are-the-two-choices-equal-3" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">At what probability <span class="math inline">p</span> are the two choices equal?</h2>
<p>Replace probability of rain with <strong>P</strong> and <strong>1-P</strong> and solve for “P”</p>
<p><br></p>
<p>p * 0.4 + (1-p) * 1.0 = p * 0.6 + (1-p) * 0.8</p>
<p><br></p>
<p><span class="math inline">\underbrace{0.3 * 0.4 + 0.7 * 1.0}_{\text{Beach}} = \underbrace{0.3 * 0.6 + 0.7 * 0.8}_{\text{Home}}</span></p>
</section>
<section id="at-what-probability-p-are-the-two-choices-equal-4" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">At what probability <span class="math inline">p</span> are the two choices equal?</h2>
<p>p * 0.4 + (1-p) * 1.0 = p * 0.6 + (1-p) * 0.8</p>
</section>
<section id="at-what-probability-p-are-the-two-choices-equal-5" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">At what probability <span class="math inline">p</span> are the two choices equal?</h2>
<p>p * 0.4 + (1-p) * 1.0 = p * 0.6 + (1-p) * 0.8</p>
<p><br></p>
<p><strong>0.4p + 1-p = 0.6p + 0.8 - 0.8p</strong></p>
<p><strong>1-0.6p = 0.8 - 0.2p</strong></p>
<p><strong>1-0.8 = 0.6p - 0.2p</strong></p>
<p><strong>0.2 = 0.4 * p</strong></p>
<p><span style="color:green;"><strong>0.5 = p</strong></span></p>
</section>
<section id="at-what-probability-p-are-the-two-choices-equal-6" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">At what probability <span class="math inline">p</span> are the two choices equal?</h2>
<blockquote>
<p>When the probability of rain is 50% at BOTH the beach and home, given how we weighted the outcomes, going to the beach would be the same as staying at home</p>
</blockquote>
<p><br></p>
<blockquote>
<p>In other words, you would be indifferent between the two – staying at home or going to the beach</p>
</blockquote>
</section>
<section id="at-what-probability-p_b-of-rain-for-the-beach-are-you-indifferent-between-the-two-options" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">At what probability (<span class="math inline">p_B</span>) of rain for the beach are you indifferent between the two options?</h2>

<img data-src="media/lec_conceptual-and-theoretical-frameworks/dt_beachhome_pB.png" class="quarto-figure quarto-figure-center r-stretch" style="width:50.0%"></section>
<section id="at-what-probability-p_b-of-rain-for-the-beach-are-you-indifferent-between-the-two-options-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">At what probability (<span class="math inline">p_B</span>) of rain for the beach are you indifferent between the two options?</h2>
<div style="font-size: 0.8em">
<ul>
<li class="fragment"><p>Earlier, we solved for the expected payoff of remaining at home: 0.74 (which was a lower expected value than going to the beach when the chance of rain at both was 30%) <br></p></li>
<li class="fragment"><p><strong>What would</strong> <span class="math inline">p_B</span> need to be to yield an expected payoff <em>at the beach</em> of 0.74?</p>
<ul>
<li class="fragment">In other words, at what probability of rain at the beach would you be indifferent between staying at home &amp; going to the beach?</li>
</ul></li>
</ul>
</div>
<aside class="notes">
<ol type="1">
<li>Now, let’s ask a slightly different question – At what probabiility….</li>
<li>Let’s now assume that the probability of rain for the HOME option does not change (so stays at 0.3)</li>
<li>KEY DIFFERENCE FROM THE LAST EXAMPLE: In the last example, the probabilities were the same &amp; we wanted to get our threshold of indifference between the beach and staying at home</li>
<li>**Now we are assuming that there’s still a probability of 30% that it rains if you stay home, but at what probability of rain at the beach would you be indifferent between the two options? (Since we CHOSE BEACH when the probabilities both equaled 30%)</li>
</ol>
<ul>
<li>In other words, at what probability of RAIN AT THE BEACH would you be indifferent between the beach &amp; home</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="at-what-probability-p_b-of-rain-for-the-beach-are-you-indifferent-between-the-two-options-2" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">At what probability (<span class="math inline">p_B</span>) of rain for the beach are you indifferent between the two options?</h2>
<p><br></p>
<p>Set 0.74 (expected value of remaining at home) equal to the <strong>beach</strong> payoffs and solve for <span class="math inline">p_B</span></p>
<p><br></p>
<p>p<sub>B</sub> * 0.4 + (1 - p<sub>B</sub>) * 1.0 = 0.74</p>
</section>
<section id="at-what-probability-p_b-of-rain-for-the-beach-are-you-indifferent-between-the-two-options-3" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">At what probability (<span class="math inline">p_B</span>) of rain for the beach are you indifferent between the two options?</h2>
<div class="fragment fade-out">
<p>p<sub>B</sub> * 0.4 + (1 - p<sub>B</sub>) * 1.0 = 0.74</p>
</div>
<p>p<sub>B</sub> * 0.4 + 1 - p<sub>B</sub> = 0.74</p>
</section>
<section id="at-what-probability-p_b-of-rain-for-the-beach-are-you-indifferent-between-the-two-options-4" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">At what probability (<span class="math inline">p_B</span>) of rain for the beach are you indifferent between the two options?</h2>
<p>p<sub>B</sub> * -0.6 = -0.26</p>
</section>
<section id="at-what-probability-p_b-of-rain-for-the-beach-are-you-indifferent-between-the-two-options-5" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">At what probability (<span class="math inline">p_B</span>) of rain for the beach are you indifferent between the two options?</h2>
<p>p<sub>B</sub> = -0.26 / -0.6 = <span style="color:green;"><strong>0.43</strong></span></p>
</section>
<section id="at-what-probability-p_b-of-rain-for-the-beach-are-you-indifferent-between-the-two-options-6" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">At what probability (<span class="math inline">p_B</span>) of rain for the beach are you indifferent between the two options?</h2>
<blockquote>
<p>When the probability of rain at the beach is 43% (probability of rain at home remains at 30%), we would be indifferent between staying at home &amp; going to the beach.</p>
</blockquote>
<blockquote>
<p>If the probability of rain at the beach in &gt; 43%, then we would stay home</p>
</blockquote>
</section></section>
<section>
<section id="probability-review" class="title-slide slide level1 center" data-background="#43464B">
<h1>Probability Review</h1>

</section>
<section id="probabilities-within-decision-trees" class="slide level2">
<h2>Probabilities within Decision Trees</h2>
<p><strong>Mutually exclusive events</strong></p>
<ul>
<li class="fragment">2 things that cannot occur together (one event cannot occur at the same time as the other event)
<ul>
<li class="fragment">Example: 2 events, survive or die; mutually exclusive because a person cannot be both at the same time</li>
<li class="fragment">Example: 2 events, cured or not cured</li>
</ul></li>
</ul>
</section>
<section id="probabilities-within-decision-trees-1" class="slide level2">
<h2>Probabilities within Decision Trees</h2>
<p><strong>Mutually exclusive events</strong></p>

<img data-src="images/vaccine.png" class="r-stretch"></section>
<section id="probabilities-within-decision-trees-2" class="slide level2">
<h2>Probabilities within Decision Trees</h2>
<p><strong>Mutually exclusive events</strong></p>
<ul>
<li>Assuming events are mutually exclusive, then the probability of 2 events occurring is the <strong>sum of the probability of each event occurring individually</strong></li>
</ul>
<p><span class="math display">
P(A or B) = P(A) + P(B)
</span></p>
</section>
<section id="probabilities-within-decision-trees-3" class="slide level2">
<h2>Probabilities within Decision Trees</h2>
<div class="callout callout-note callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Joint probability</strong></p>
</div>
<div class="callout-content">
<p>P(A and B): The probability of two events occurring at the same time.</p>
</div>
</div>
</div>
<div class="callout callout-note callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Conditional probability</strong></p>
</div>
<div class="callout-content">
<p>P(A|B): The probability of an event A given that an event B is known to have occurred.</p>
</div>
</div>
</div>
</section>
<section id="section-1" class="slide level2" data-background="#43464B" data-background-image="media/lec_conceptual-and-theoretical-frameworks/dt_evans97.png" data-background-size="contain">
<h2></h2>
</section>
<section id="probabilities" class="slide level2" data-background-image="media/lec_conceptual-and-theoretical-frameworks/dt_evans97.png" data-background-size="contain" data-background-opacity="0.2">
<h2>Probabilities</h2>
<ul>
<li class="fragment">Moving from left to right, the first probabilities in the tree show the probability of an event.</li>
<li class="fragment">Subsequent probabilities are <strong>conditional.</strong>
<ul>
<li class="fragment">The probability of an event given that an earlier event did or did not occur.</li>
</ul></li>
<li class="fragment">Multiplying probabilities along pathways estimates the pathway probability, which is a <strong>joint</strong> probability.</li>
</ul>
</section>
<section id="pathways" class="slide level2">
<h2>Pathways</h2>
<p><br></p>
<ul>
<li>Pathways = sequence of events that lead to a subsequent “pay off”</li>
<li>In other words, a sequence of events leads to an outcome/consequence, or payoff</li>
<li>Example below: Our beach example has 4 pathways.</li>
</ul>
</section>
<section id="pathways-1" class="slide level2">
<h2>Pathways</h2>
<ul>
<li>Pathway A: This person goes to the beach but it rains</li>
<li>Pathway B: This person goes to the beach but there is no rain</li>
</ul>

<img data-src="images/pathways.png" class="r-stretch"></section>
<section id="conditional-probability-1" class="slide level2">
<h2>Conditional probability</h2>
<p><br></p>
<p>Example: What is the conditional probability of death within a year of birth, given the infant has a mother who smokes?</p>
<p>(Probability of an event occurring (B) given that another event occurred (A))</p>
<p><span class="math display">
P(A|B) = P(A and B) / P(B)
</span></p>
</section>
<section id="conditional-probability-2x2-review" class="slide level2">
<h2>Conditional probability, 2x2 review</h2>
<div style="font-size: 0.8em">
<p>What is the conditional probability of death within a year of birth, given the infant has a mother who smokes?</p>
<p><img data-src="images/condition1.png" width="470"></p>
<p><em>*A= death in first year; B=mother who smokes</em></p>
<p><span style="color: #169873;">P(A|B)</span> = 16,712 / (1,197,142 + 16,712) <br> = 14 per 1,000 births</p>
</div>
</section>
<section id="conditional-probability-2x2-review-1" class="slide level2">
<h2>Conditional probability, 2x2 review</h2>
<div style="font-size: 0.8em">
<p>Or, if we wanted to use the conditional probability equation</p>
<p><img data-src="images/condition1.png" width="470"></p>
<p><span style="color: #169873;">P(A|B) = P(A and B)/P(B)</span> <br> <em>*A= death in first year; B=mother who smokes</em> <br></p>
<p><span style="color: #169873;">P(A and B)</span> = 16,712 / 4,111,059 = 0.0041 <br> <span style="color: #169873;">P(B)</span> = 1,213,854/4,111,059 = 0.295 <br> <span style="color: #169873;">P(A|B)</span> = 0.0041/0.295 = 0.014</p>
</div>
</section>
<section id="conditional-probability-2x2-review-2" class="slide level2">
<h2>Conditional probability, 2x2 review</h2>
<div style="font-size: 0.8em">
<p>Probability of A|B is different from that of B|A</p>
<p><img data-src="images/condition2.png" width="470"></p>
<p>If A = death in first year; B=normal birth weight infant, then the conditional probability of P(A|B) = the probability of an infant death, given that the child has a normal birth weight</p>
</div>
</section>
<section id="conditional-probability-2x2-review-3" class="slide level2">
<h2>Conditional probability, 2x2 review</h2>
<div style="font-size: 0.8em">
<p>What is the conditional probability of an infant death, given that the child has a normal birth weight</p>
<p><img data-src="images/condition2.png" width="470"></p>
<p>If A = death in first year; B=normal birth weight infant <br></p>
<p><span style="color: #169873;">P(A|B)</span> = 14,442 / (14,442+ 3,804,294) <br> = 3.8 deaths per 1,000 births</p>
</div>
</section>
<section id="conditional-probability-2x2-review-4" class="slide level2">
<h2>Conditional probability, 2x2 review</h2>
<div style="font-size: 0.8em">
<p>Or, if we wanted to use equation</p>
<p><img data-src="images/condition2.png" width="470"></p>
<p><span style="color: #169873;">P(A|B) = P(A and B)/P(B)</span><br>
</p>
<p><span style="color: #169873;">P(A and B)</span> = 14,442 <br> <span style="color: #169873;">P(B)</span> = 3,818,736 <br> <span style="color: #169873;">P(A|B)</span> = 14,442/3,818,736 = 0.0038</p>
</div>
</section>
<section id="conditional-probability-2x2-review-5" class="slide level2">
<h2>Conditional probability, 2x2 review</h2>
<div style="font-size: 0.8em">
<p>On the other hand, the conditional probability of P(B|A) is the probability that an infant had normal birth weight, given that the infant died within 1 year from birth</p>
<p><img data-src="images/condition2.png" width="470"></p>
<p><em>*B=normal birth weight infant; A = death in first year</em></p>
</div>
</section>
<section id="conditional-probability-2x2-review-6" class="slide level2">
<h2>Conditional probability, 2x2 review</h2>
<p>Solve P(B|A) – the probability that an infant had normal birthweight, given that the infant died within 1 year from birth</p>

<img data-src="images/condition2.png" width="470" class="r-stretch"><p><span style="color: #169873;">P(B|A)</span> = 14,442 / (14,442+ 21,054) = 0.41</p>
</section></section>
<section>
<section id="other-concepts-in-decision-analysis" class="title-slide slide level1 center" data-background="#43464B">
<h1>Other Concepts in Decision Analysis</h1>

</section>
<section id="decision-philosophies" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Decision Philosophies</h2>
<div class="callout callout-important callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<p>Maximizing expected value is a reasonable criterion for choice given uncertain prospects; though it does not necessarily promise the best results for any one individual.</p>
</div>
</div>
</div>
<ul>
<li><p>Mini-max regret</p></li>
<li><p>Maxi-max</p></li>
<li><p>Expected utility</p></li>
</ul>
</section>
<section id="decision-philosophies-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Decision Philosophies</h2>
<div class="callout callout-important callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<p>Maximizing expected value is a reasonable criterion for choice given uncertain prospects; though it does not necessarily promise the best results for any one individual.</p>
</div>
</div>
</div>
<ul>
<li><p>Mini-max regret</p>
<ul>
<li>Never go to the beach unless 0% rain.</li>
</ul></li>
<li><p>Maxi-max gain</p></li>
<li><p>Expected utility</p></li>
</ul>
<aside class="notes">
<ol type="1">
<li><p>Let’s quickly touch on decision philosophies when it comes to preference weighting. There are different levels of risk aversion &amp; there are different decision philosophies for these behaviors</p></li>
<li><p>Mini-max regret philosophy essentially means that you would never go to the beach unless there was 0% rain</p></li>
</ol>
<ul>
<li>For instance, physicians may be risk averse &amp; therefore minimize max regret</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="decision-philosophies-2" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Decision Philosophies</h2>
<div class="callout callout-important callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<p>Maximizing expected value is a reasonable criterion for choice given uncertain prospects; though it does not necessarily promise the best results for any one individual.</p>
</div>
</div>
</div>
<ul>
<li>Mini-max regret
<ul>
<li>Never go to the beach unless 0% rain.</li>
</ul></li>
<li>Maxi-max
<ul>
<li>Always go to the beach unless 100% rain.</li>
</ul></li>
<li>Expected utility</li>
</ul>
<aside class="notes">
<p>(3)(a) Maxi-max gain is the reverse – where you would always go to the beach unless there was 100% rain – you are risk seeking – you love the beach so much that you’re going to give it a try.</p>
<p>(3)(b) Another example of this in a medical context – is the desperate patient example – you’re going to die anyways, so we are going to give you this treatment, but it has nasty side effects – cancer – chemotherapies – even bone marrow transplants, 2nd or third line – a high probability of bad outcome but if you do nothing then you’re going to die.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="decision-philosophies-3" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Decision Philosophies</h2>
<div class="callout callout-important callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<p>Maximizing expected value is a reasonable criterion for choice given uncertain prospects; though it does not necessarily promise the best results for any one individual.</p>
</div>
</div>
</div>
<ul>
<li>Mini-max regret
<ul>
<li>Never go to the beach unless 0% rain.</li>
</ul></li>
<li>Maxi-max
<ul>
<li>Always go to the beach unless 100% rain.</li>
</ul></li>
<li>Expected utility
<ul>
<li>Depends on the weather.</li>
</ul></li>
</ul>
<aside class="notes">
<ol start="4" type="1">
<li>If you’re going to base your decision on expected utility, then your decision depends on the weather &amp; how much value you give to certain outcomes – this is the rationale thinker approach – how much you value sitting at home weighed by the utility loss of not having the beach experience, for example.</li>
</ol>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="payoffs-1" class="slide level2">
<h2>Payoffs</h2>
<ul>
<li class="fragment">Each state of the world is assigned a cost or outcome.</li>
<li class="fragment">Our goal is often to calculate the expected value of these payoffs.</li>
<li class="fragment">We’ll cover more on the theories and frameworks underlying various payoffs in the next few lectures</li>
</ul>
</section></section>
<section>
<section id="strengthslimitations-of-decision-trees" class="title-slide slide level1 center">
<h1>Strengths/limitations of decision trees</h1>

</section>
<section id="strengths" class="slide level2">
<h2>Strengths</h2>
<ul>
<li class="fragment">They are easy to describe and understand</li>
<li class="fragment">Works well with limited time horizon</li>
<li class="fragment">Decision trees are a powerful framework for analyzing decisions and can provide rapid/useful insights, but they have limitations.</li>
</ul>
</section>
<section id="limitations" class="slide level2">
<h2>Limitations</h2>
<ul>
<li class="fragment">No explicit accounting for the elapse of time.
<ul>
<li class="fragment">Recurrent events must be separately built into model.</li>
<li class="fragment">Fine for short time cycles (e.g., 12 months) but we often want to model over a lifetime.</li>
</ul></li>
<li class="fragment">Difficult to incorporate real clinical detail - Tree structure can quickly become complex.</li>
</ul>
</section>
<section id="preview-of-whats-to-come" class="slide level2">
<h2>Preview of what’s to come</h2>

<img data-src="images/VOI5.png" width="591" class="r-stretch"><div style="font-size: 0.8em">
<ul>
<li>More complex tree!</li>
</ul>
</div>


</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="../vchem.png" class="slide-logo"></p>
<div class="footer footer-default">
<p><a href="../index.html">Back to Website</a></p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'fade',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
          const outerScaffold = trigger.parentElement.cloneNode(true);
          const codeEl = outerScaffold.querySelector('code');
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>