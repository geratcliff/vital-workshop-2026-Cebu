{"title":"Case Study: Alive-Dead Model","markdown":{"yaml":{"title":"Case Study: Alive-Dead Model","format":{"html":{"toc":false},"docx":{"toc":false},"pdf":{"toc":false}},"editor_options":{"chunk_output_type":"console"},"self-contained":true},"headingText":"Introduction and Overview of Decision Problem","headingAttr":{"id":"","classes":[],"keyvalue":[["{<",""],["fa",""],["regular",""],["clipboard",""],[">}",""]]},"containsRefs":false,"markdown":"\n\n\nThis case study is designed to walk you through the process of constructing a discrete time Markov cohort model in Amua. We will begin with a simple alive-dead model for your country, and then expand into a disease-based model in our case study later today.\n\n# 1. Alive-Dead Model\n\nWe will start by constructing a simple Markov model representing just two health states: \"Alive\" and \"Dead.\" We will assume that individuals can transition between these states based on the probabilities of surviving as calculated using demographic life table data from your country.\n\n## Markov Structure: Alive-Dead\n\nThe structure of the Markov model for the Alive-Dead model is shown in the figure below.\n\n![](images/clipboard-3077087514.png)\n\nLooking at the figure, you'll see that Amua has a special Markov node (represented by <img src=\"../amua-images/markovChain_24.png\" alt=\"Custom Icon\" width=\"20\" height=\"20\"/> ). The branches that lead off a Markov node designate all the Markov health states (and only Markov states).\n\nIn this example, there are two health states: (1) Alive, (2) Dead. Off each health state, you can create a subtree (also called a cycle tree) that reflects those events that can occur during a cycle. The last branch at the end of each pathway will be a state transition, which defines what health state to go to for the next cycle.\n\n::: callout-note\nNote that in a Markov model, outcomes are defined elsewhere – NOT at the end of the branch, but at the state.\n:::\n\n## Building the Tree\n\n### Structure\n\nAfter you open Amua, click Model {{< fa arrow-right >}} New {{< fa arrow-right >}} <img src=\"../amua-images/markovChain_24.png\" alt=\"Custom Icon\" width=\"20\" height=\"20\"/> Markov Model.\n\n-   Save your model right at the start.\n\n-   Now select the decision node <img src=\"../amua-images/decisionNode_24.png\" alt=\"Custom Icon\" width=\"20\" height=\"20\"/>, Right-click {{< fa arrow-right >}} Add {{< fa arrow-right >}} <img src=\"../amua-images/markovChain_24.png\" alt=\"Custom Icon\" width=\"20\" height=\"20\"/> Markov Chain .\n\n-   Start by developing the structure of the Markov model using Alive and Dead for the different health states. The branches of the Markov chain should correspond to the states of the model. Label the name option to the right of the decision node as Alive-Dead.\n\n![](images/clipboard-556363520.png){width=\"800\"}\n\n::: {.callout-caution appearance=\"minimal\"}\n**Complete the structure of the Markov model using the information above. Note: focus on adding the branches and transitions for this step; Parameters will be added later.**\n:::\n\n-   When you reach the end of the branch, select the chance node you would like to turn into a state transition, right click, select Change to State Transition. This will give you the blue arrow <img src=\"../amua-images/arrow_48.png\" alt=\"Custom Icon\" width=\"20\" height=\"20\"/> . On the right of this arrow, you can find a dropdown menu with the different health states you specified. Select the health state this part of the cohort will transition to.\n\n-   With this button <img src=\"../amua-images/alignRightSelected_24.png\" alt=\"Custom Icon\" width=\"20\" height=\"20\"/> you can align the end nodes.\n\n### Cohort size and starting probabilities\n\n-   Go to Model {{< fa arrow-right >}} Properties {{< fa arrow-right >}} select the Simulation tab. The default cohort size is 1,000. Change cohort size to 1, so that all outputs will be at the individual level (i.e., per person).\n\n![](images/clipboard-1176592840.png){fig-align=\"center\" width=\"500\"}\n\n-   At the Markov Chain <img src=\"../amua-images/markovChain_24.png\" alt=\"Custom Icon\" width=\"20\" height=\"20\"/> , change the initial probabilities of health states. Since all patients start in the Alive state, change the p:0 on the left of the Local state to p:1 (see blue box below).\n\n![](images/clipboard-948912894.png){fig-align=\"center\" width=\"600\"}\n\n## Model Parameters\n\nFirst, define the following time-constant parameters for the model in the “Parameters” panel.\n\n![](images/clipboard-2737349940.png){fig-align=\"center\" width=\"350\"}\n\nThis variable tells Amua that we will model a cohort of newborns. However, we could easily adapt this to model a cohort of 20 year-olds, etc.\n\n## Transition Probabilities\n\nThe underlying transition probability matrix has the following form:\n\n![](images/clipboard-3364156865.png){fig-align=\"center\" width=\"200\"}\n\nHowever, because we are modeling a cohort of newborns until death, we need to include death transition probabilities that vary by age (i.e., cycle) in the model. In other words, there will be a different death probability in each cycle.\n\n::: callout-important\nIn Amua, **time-varying inputs are operationalized as variables** <img src=\"../amua-images/variable_16.png\" alt=\"Custom Icon\" width=\"20\" height=\"20\"/> rather than parameters.\n\nVariables <img src=\"../amua-images/variable_16.png\" alt=\"Custom Icon\" width=\"20\" height=\"20\"/> can be defined to keep track of model events and dynamically update expressions as the model runs. Thus, unlike parameters <img src=\"../amua-images/parameter_16.png\" alt=\"Custom Icon\" width=\"20\" height=\"20\"/> which are fixed for a given run of the model, variables can change within a simulation. Variables may change across individuals, allowing heterogeneity to be modeled, or they may change over time.\n:::\n\nTherefore, we will define `p_die` as a **variable** <img src=\"../amua-images/variable_16.png\" alt=\"Custom Icon\" width=\"20\" height=\"20\"/> that references values in a **lookup table** <img src=\"../amua-images/table_16.png\" alt=\"Custom Icon\" width=\"20\" height=\"20\"/>, following the steps below.\n\n::: callout-important\nA lookup table returns the value that corresponds to a particular index. The first column in a lookup table contains the table indices, and one or more columns of lookup values can be defined. Index values must be unique and in ascending order.\n\nDepending on how your data are defined, you can use three lookup table methods in Amua:\n\n-   **Exact**: Returns the value associated with the exact index. Use this only if the index values exactly align with the cycle length (e.g., ages 0, 1, 2, etc. with an annual cycle length). If the exact index is not found the table returns NaN (i.e., a missing value).\n\n-   **Truncate**: Returns a value that is truncated (i.e. floor) for the index. *This is a common way to use life-tables that bin ages into ranges.* If the supplied index is below the minimum index the table returns NaN.\n\n-   **Interpolate**: Returns a value that is interpolated between indices. Interpolate may be a viable option if you have age-based probabilities defined at the year level, but cycle lengths that are less than a year.\n\nFor details about these methods visit the [Amua Wiki on GitHub](https://github.com/zward/Amua/wiki/Tables).\n:::\n\nWe first define a lookup table <img src=\"../amua-images/table_16.png\" alt=\"Custom Icon\" width=\"20\" height=\"20\"/> tbl_p_die to read in the age-dependent background mortality constructed from country life tables.\n\n### Download Data\n\nDownload the background mortality file for your country from the workshop website. Each workbook contains the age-indexed annual mortality probability for various countries represented in our workshop.\n\n|  |  |\n|------------------------------------|------------------------------------|\n| [Bangladesh](https://graveja0.github.io/vital-istanbul-2024/_gbd_lifetables/output/bangladesh.csv) | [Rwanda](https://graveja0.github.io/vital-istanbul-2024/_gbd_lifetables/output/rwanda.csv) |\n| [Cambodia](https://graveja0.github.io/vital-istanbul-2024/_gbd_lifetables/output/cambodia.csv) | [South Africa](https://graveja0.github.io/vital-istanbul-2024/_gbd_lifetables/output/south_africa.csv) |\n| [Cameroon](https://graveja0.github.io/vital-istanbul-2024/_gbd_lifetables/output/cameroon.csv) | [Sri Lanka](https://graveja0.github.io/vital-istanbul-2024/_gbd_lifetables/output/sri_lanka.csv) |\n| [China](https://graveja0.github.io/vital-istanbul-2024/_gbd_lifetables/output/china.csv) | [Tanzania](https://graveja0.github.io/vital-istanbul-2024/_gbd_lifetables/output/united_republic_of_tanzania.csv) |\n| [Ethiopia](https://graveja0.github.io/vital-istanbul-2024/_gbd_lifetables/output/ethiopia.csv) | [Thailand](https://graveja0.github.io/vital-istanbul-2024/_gbd_lifetables/output/thailand.csv) |\n| [India](https://graveja0.github.io/vital-istanbul-2024/_gbd_lifetables/output/india.csv) | [Uganda](https://graveja0.github.io/vital-istanbul-2024/_gbd_lifetables/output/uganda.csv) |\n| [Kenya](https://graveja0.github.io/vital-istanbul-2024/_gbd_lifetables/output/kenya.csv) | [Zambia](https://graveja0.github.io/vital-istanbul-2024/_gbd_lifetables/output/zambia.csv) |\n| [Mozambique](https://graveja0.github.io/vital-istanbul-2024/_gbd_lifetables/output/mozambique.csv) | [Zimbabwe](https://graveja0.github.io/vital-istanbul-2024/_gbd_lifetables/output/zimbabwe.csv) |\n| [Philippines](https://graveja0.github.io/vital-istanbul-2024/_gbd_lifetables/output/philippines.csv) |  |\n\nA screenshot of the first few rows of this .csv file is shown below. The`index`column is the age, while`p_die` is the annual probability of death at each age.\n\n![](images/clipboard-1348648427.png){fig-align=\"center\" width=\"500\"}\n\nGo to the “Tables” panel, click <img src=\"../amua-images/add_16.png\" alt=\"Custom Icon\" width=\"20\" height=\"20\"/> to add a table, and you should see a “Define Table” window (see screenshot below). Click the Import button <img src=\"../amua-images/table_16.png\" alt=\"Custom Icon\" width=\"20\" height=\"20\"/> and select the downloaded .csv file to import. The table will automatically be resized to fit the imported data. The first row in the file will be used as table headers.\n\n::: callout-tip\nAn alternative approach to uploading the .csv is to simply copy and paste the two columns from the .csv file, and then hit the <img src=\"../amua-images/paste_16.png\" alt=\"Custom Icon\" width=\"20\" height=\"20\"/> paste button. You can then paste the table directly into Amua.\n:::\n\nEnter “tbl_p_die” as the name for this variable. “Lookup” is the default table type (which is what we want here). Choose \"Interpolate\" as the Lookup Method. Click Save to apply.\n\n### Background Mortality\n\nNext, we can define the *time-varying variable* `p_die` (which reads from the table we just defined and operates as the background mortality probability in the current model cycle, $t$).\n\nMake sure you create a variable and not a parameter. Under “Variables”, click <img src=\"../amua-images/add_16.png\" alt=\"Custom Icon\" width=\"20\" height=\"20\"/> to add a variable p_die = tbl_p_die\\[age_initial + t, 1\\].\n\n::: callout-note\nThe first column of a table is always used for indexing in tables. Therefore, the number \"1\" here will actually indicate the second column in your table as the corresponding value. You can also use the name of the column to read a value, e.g., tbl_p_die\\[age_initial + t, “p_die”\\].\n:::\n\n::: callout-tip\nIn Amua, “***t***” is a built-in variable that tracks the number of cycles. It automatically updates when the model runs. For example, in the 10^th^ cycle on the Markov model, *t = 10*. Therefore, in the formula “tbl_p_die\\[age_initial + *t*, 1\\]”, age_initial + *t* will equal the modeled age of the individual in cycle *t*, and the full formula will read the age-dependent background mortality based on the individual’s current age (instead of the initial age).\n\nAmua defaults to a cycle time of $t=0$. Therefore, if you hit \"Evaluate\" the Expected Value field should calculate the death probability for a newborn as shown in the .csv lookup table.\n:::\n\n![](images/clipboard-3390332906.png){fig-align=\"center\" width=\"500\"}\n\nWe now have all transition probabilities defined. Add these inputs to the branches of the model. Remember to add the complementary probabilities using “C” as well.\n\n## Termination Condition\n\n-   Specify the termination of the model by selecting \\[termination\\] and type t==110. This will allow your model to run for 110 cycles, then the model will terminate.\n\n![](images/clipboard-3413612505.png){fig-align=\"center\" width=\"400\"}\n\n## Rewards\n\nThe default reward in Amua is cost. We need to change this to have life-expectancy (LE) as a reward. Go to Model {{< fa arrow-right >}} Properties {{< fa arrow-right >}} select the Analysis tab and change the cost dimension to LE. Use LE as the symbol and set to 4 decimal places.\n\n![](images/clipboard-896605952.png){fig-align=\"center\" width=\"500\"}\n\nAdd the life-expectancy \"payoff\" on the left of each health state after \"R: (LE)\".\n\n![](images/clipboard-2710970859.png){fig-align=\"center\" width=\"400\"}\n\nApply Half-cycle correction. Go to **Model** {{< fa arrow-right >}} **Properties** {{< fa arrow-right >}} select the **Markov** tab and check the Half-cycle correction box. Click **OK** to apply.\n\n![](images/clipboard-2281393950.png){fig-align=\"center\" width=\"400\"}\n\nNow, we have finished constructing the Alive-Dead model. Analyze the model using a cohort simulation by clicking **Run** {{< fa arrow-right >}} **Run Model**.\n\n::: {.callout-caution appearance=\"minimal\"}\n**Run the alive-dead model and calculate overall life expectancy for your country.**\n:::\n","srcMarkdownNoYaml":"\n\n# Introduction and Overview of Decision Problem {{< fa regular clipboard >}}\n\nThis case study is designed to walk you through the process of constructing a discrete time Markov cohort model in Amua. We will begin with a simple alive-dead model for your country, and then expand into a disease-based model in our case study later today.\n\n# 1. Alive-Dead Model\n\nWe will start by constructing a simple Markov model representing just two health states: \"Alive\" and \"Dead.\" We will assume that individuals can transition between these states based on the probabilities of surviving as calculated using demographic life table data from your country.\n\n## Markov Structure: Alive-Dead\n\nThe structure of the Markov model for the Alive-Dead model is shown in the figure below.\n\n![](images/clipboard-3077087514.png)\n\nLooking at the figure, you'll see that Amua has a special Markov node (represented by <img src=\"../amua-images/markovChain_24.png\" alt=\"Custom Icon\" width=\"20\" height=\"20\"/> ). The branches that lead off a Markov node designate all the Markov health states (and only Markov states).\n\nIn this example, there are two health states: (1) Alive, (2) Dead. Off each health state, you can create a subtree (also called a cycle tree) that reflects those events that can occur during a cycle. The last branch at the end of each pathway will be a state transition, which defines what health state to go to for the next cycle.\n\n::: callout-note\nNote that in a Markov model, outcomes are defined elsewhere – NOT at the end of the branch, but at the state.\n:::\n\n## Building the Tree\n\n### Structure\n\nAfter you open Amua, click Model {{< fa arrow-right >}} New {{< fa arrow-right >}} <img src=\"../amua-images/markovChain_24.png\" alt=\"Custom Icon\" width=\"20\" height=\"20\"/> Markov Model.\n\n-   Save your model right at the start.\n\n-   Now select the decision node <img src=\"../amua-images/decisionNode_24.png\" alt=\"Custom Icon\" width=\"20\" height=\"20\"/>, Right-click {{< fa arrow-right >}} Add {{< fa arrow-right >}} <img src=\"../amua-images/markovChain_24.png\" alt=\"Custom Icon\" width=\"20\" height=\"20\"/> Markov Chain .\n\n-   Start by developing the structure of the Markov model using Alive and Dead for the different health states. The branches of the Markov chain should correspond to the states of the model. Label the name option to the right of the decision node as Alive-Dead.\n\n![](images/clipboard-556363520.png){width=\"800\"}\n\n::: {.callout-caution appearance=\"minimal\"}\n**Complete the structure of the Markov model using the information above. Note: focus on adding the branches and transitions for this step; Parameters will be added later.**\n:::\n\n-   When you reach the end of the branch, select the chance node you would like to turn into a state transition, right click, select Change to State Transition. This will give you the blue arrow <img src=\"../amua-images/arrow_48.png\" alt=\"Custom Icon\" width=\"20\" height=\"20\"/> . On the right of this arrow, you can find a dropdown menu with the different health states you specified. Select the health state this part of the cohort will transition to.\n\n-   With this button <img src=\"../amua-images/alignRightSelected_24.png\" alt=\"Custom Icon\" width=\"20\" height=\"20\"/> you can align the end nodes.\n\n### Cohort size and starting probabilities\n\n-   Go to Model {{< fa arrow-right >}} Properties {{< fa arrow-right >}} select the Simulation tab. The default cohort size is 1,000. Change cohort size to 1, so that all outputs will be at the individual level (i.e., per person).\n\n![](images/clipboard-1176592840.png){fig-align=\"center\" width=\"500\"}\n\n-   At the Markov Chain <img src=\"../amua-images/markovChain_24.png\" alt=\"Custom Icon\" width=\"20\" height=\"20\"/> , change the initial probabilities of health states. Since all patients start in the Alive state, change the p:0 on the left of the Local state to p:1 (see blue box below).\n\n![](images/clipboard-948912894.png){fig-align=\"center\" width=\"600\"}\n\n## Model Parameters\n\nFirst, define the following time-constant parameters for the model in the “Parameters” panel.\n\n![](images/clipboard-2737349940.png){fig-align=\"center\" width=\"350\"}\n\nThis variable tells Amua that we will model a cohort of newborns. However, we could easily adapt this to model a cohort of 20 year-olds, etc.\n\n## Transition Probabilities\n\nThe underlying transition probability matrix has the following form:\n\n![](images/clipboard-3364156865.png){fig-align=\"center\" width=\"200\"}\n\nHowever, because we are modeling a cohort of newborns until death, we need to include death transition probabilities that vary by age (i.e., cycle) in the model. In other words, there will be a different death probability in each cycle.\n\n::: callout-important\nIn Amua, **time-varying inputs are operationalized as variables** <img src=\"../amua-images/variable_16.png\" alt=\"Custom Icon\" width=\"20\" height=\"20\"/> rather than parameters.\n\nVariables <img src=\"../amua-images/variable_16.png\" alt=\"Custom Icon\" width=\"20\" height=\"20\"/> can be defined to keep track of model events and dynamically update expressions as the model runs. Thus, unlike parameters <img src=\"../amua-images/parameter_16.png\" alt=\"Custom Icon\" width=\"20\" height=\"20\"/> which are fixed for a given run of the model, variables can change within a simulation. Variables may change across individuals, allowing heterogeneity to be modeled, or they may change over time.\n:::\n\nTherefore, we will define `p_die` as a **variable** <img src=\"../amua-images/variable_16.png\" alt=\"Custom Icon\" width=\"20\" height=\"20\"/> that references values in a **lookup table** <img src=\"../amua-images/table_16.png\" alt=\"Custom Icon\" width=\"20\" height=\"20\"/>, following the steps below.\n\n::: callout-important\nA lookup table returns the value that corresponds to a particular index. The first column in a lookup table contains the table indices, and one or more columns of lookup values can be defined. Index values must be unique and in ascending order.\n\nDepending on how your data are defined, you can use three lookup table methods in Amua:\n\n-   **Exact**: Returns the value associated with the exact index. Use this only if the index values exactly align with the cycle length (e.g., ages 0, 1, 2, etc. with an annual cycle length). If the exact index is not found the table returns NaN (i.e., a missing value).\n\n-   **Truncate**: Returns a value that is truncated (i.e. floor) for the index. *This is a common way to use life-tables that bin ages into ranges.* If the supplied index is below the minimum index the table returns NaN.\n\n-   **Interpolate**: Returns a value that is interpolated between indices. Interpolate may be a viable option if you have age-based probabilities defined at the year level, but cycle lengths that are less than a year.\n\nFor details about these methods visit the [Amua Wiki on GitHub](https://github.com/zward/Amua/wiki/Tables).\n:::\n\nWe first define a lookup table <img src=\"../amua-images/table_16.png\" alt=\"Custom Icon\" width=\"20\" height=\"20\"/> tbl_p_die to read in the age-dependent background mortality constructed from country life tables.\n\n### Download Data\n\nDownload the background mortality file for your country from the workshop website. Each workbook contains the age-indexed annual mortality probability for various countries represented in our workshop.\n\n|  |  |\n|------------------------------------|------------------------------------|\n| [Bangladesh](https://graveja0.github.io/vital-istanbul-2024/_gbd_lifetables/output/bangladesh.csv) | [Rwanda](https://graveja0.github.io/vital-istanbul-2024/_gbd_lifetables/output/rwanda.csv) |\n| [Cambodia](https://graveja0.github.io/vital-istanbul-2024/_gbd_lifetables/output/cambodia.csv) | [South Africa](https://graveja0.github.io/vital-istanbul-2024/_gbd_lifetables/output/south_africa.csv) |\n| [Cameroon](https://graveja0.github.io/vital-istanbul-2024/_gbd_lifetables/output/cameroon.csv) | [Sri Lanka](https://graveja0.github.io/vital-istanbul-2024/_gbd_lifetables/output/sri_lanka.csv) |\n| [China](https://graveja0.github.io/vital-istanbul-2024/_gbd_lifetables/output/china.csv) | [Tanzania](https://graveja0.github.io/vital-istanbul-2024/_gbd_lifetables/output/united_republic_of_tanzania.csv) |\n| [Ethiopia](https://graveja0.github.io/vital-istanbul-2024/_gbd_lifetables/output/ethiopia.csv) | [Thailand](https://graveja0.github.io/vital-istanbul-2024/_gbd_lifetables/output/thailand.csv) |\n| [India](https://graveja0.github.io/vital-istanbul-2024/_gbd_lifetables/output/india.csv) | [Uganda](https://graveja0.github.io/vital-istanbul-2024/_gbd_lifetables/output/uganda.csv) |\n| [Kenya](https://graveja0.github.io/vital-istanbul-2024/_gbd_lifetables/output/kenya.csv) | [Zambia](https://graveja0.github.io/vital-istanbul-2024/_gbd_lifetables/output/zambia.csv) |\n| [Mozambique](https://graveja0.github.io/vital-istanbul-2024/_gbd_lifetables/output/mozambique.csv) | [Zimbabwe](https://graveja0.github.io/vital-istanbul-2024/_gbd_lifetables/output/zimbabwe.csv) |\n| [Philippines](https://graveja0.github.io/vital-istanbul-2024/_gbd_lifetables/output/philippines.csv) |  |\n\nA screenshot of the first few rows of this .csv file is shown below. The`index`column is the age, while`p_die` is the annual probability of death at each age.\n\n![](images/clipboard-1348648427.png){fig-align=\"center\" width=\"500\"}\n\nGo to the “Tables” panel, click <img src=\"../amua-images/add_16.png\" alt=\"Custom Icon\" width=\"20\" height=\"20\"/> to add a table, and you should see a “Define Table” window (see screenshot below). Click the Import button <img src=\"../amua-images/table_16.png\" alt=\"Custom Icon\" width=\"20\" height=\"20\"/> and select the downloaded .csv file to import. The table will automatically be resized to fit the imported data. The first row in the file will be used as table headers.\n\n::: callout-tip\nAn alternative approach to uploading the .csv is to simply copy and paste the two columns from the .csv file, and then hit the <img src=\"../amua-images/paste_16.png\" alt=\"Custom Icon\" width=\"20\" height=\"20\"/> paste button. You can then paste the table directly into Amua.\n:::\n\nEnter “tbl_p_die” as the name for this variable. “Lookup” is the default table type (which is what we want here). Choose \"Interpolate\" as the Lookup Method. Click Save to apply.\n\n### Background Mortality\n\nNext, we can define the *time-varying variable* `p_die` (which reads from the table we just defined and operates as the background mortality probability in the current model cycle, $t$).\n\nMake sure you create a variable and not a parameter. Under “Variables”, click <img src=\"../amua-images/add_16.png\" alt=\"Custom Icon\" width=\"20\" height=\"20\"/> to add a variable p_die = tbl_p_die\\[age_initial + t, 1\\].\n\n::: callout-note\nThe first column of a table is always used for indexing in tables. Therefore, the number \"1\" here will actually indicate the second column in your table as the corresponding value. You can also use the name of the column to read a value, e.g., tbl_p_die\\[age_initial + t, “p_die”\\].\n:::\n\n::: callout-tip\nIn Amua, “***t***” is a built-in variable that tracks the number of cycles. It automatically updates when the model runs. For example, in the 10^th^ cycle on the Markov model, *t = 10*. Therefore, in the formula “tbl_p_die\\[age_initial + *t*, 1\\]”, age_initial + *t* will equal the modeled age of the individual in cycle *t*, and the full formula will read the age-dependent background mortality based on the individual’s current age (instead of the initial age).\n\nAmua defaults to a cycle time of $t=0$. Therefore, if you hit \"Evaluate\" the Expected Value field should calculate the death probability for a newborn as shown in the .csv lookup table.\n:::\n\n![](images/clipboard-3390332906.png){fig-align=\"center\" width=\"500\"}\n\nWe now have all transition probabilities defined. Add these inputs to the branches of the model. Remember to add the complementary probabilities using “C” as well.\n\n## Termination Condition\n\n-   Specify the termination of the model by selecting \\[termination\\] and type t==110. This will allow your model to run for 110 cycles, then the model will terminate.\n\n![](images/clipboard-3413612505.png){fig-align=\"center\" width=\"400\"}\n\n## Rewards\n\nThe default reward in Amua is cost. We need to change this to have life-expectancy (LE) as a reward. Go to Model {{< fa arrow-right >}} Properties {{< fa arrow-right >}} select the Analysis tab and change the cost dimension to LE. Use LE as the symbol and set to 4 decimal places.\n\n![](images/clipboard-896605952.png){fig-align=\"center\" width=\"500\"}\n\nAdd the life-expectancy \"payoff\" on the left of each health state after \"R: (LE)\".\n\n![](images/clipboard-2710970859.png){fig-align=\"center\" width=\"400\"}\n\nApply Half-cycle correction. Go to **Model** {{< fa arrow-right >}} **Properties** {{< fa arrow-right >}} select the **Markov** tab and check the Half-cycle correction box. Click **OK** to apply.\n\n![](images/clipboard-2281393950.png){fig-align=\"center\" width=\"400\"}\n\nNow, we have finished constructing the Alive-Dead model. Analyze the model using a cohort simulation by clicking **Run** {{< fa arrow-right >}} **Run Model**.\n\n::: {.callout-caution appearance=\"minimal\"}\n**Run the alive-dead model and calculate overall life expectancy for your country.**\n:::\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../styles.css"],"toc":false,"self-contained":true,"output-file":"cs_markov_alive-dead.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.8.24","theme":"cosmo","title":"Case Study: Alive-Dead Model","editor_options":{"chunk_output_type":"console"}},"extensions":{"book":{"multiFile":true}}},"docx":{"identifier":{"display-name":"MS Word","target-format":"docx","base-format":"docx"},"execute":{"fig-width":5,"fig-height":4,"fig-format":"png","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"docx","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":true,"merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"page-width":6.5},"pandoc":{"default-image-extension":"png","to":"docx","self-contained":true,"toc":false,"output-file":"cs_markov_alive-dead.docx"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"title":"Case Study: Alive-Dead Model","editor_options":{"chunk_output_type":"console"}},"extensions":{"book":{"selfContainedOutput":true}}},"pdf":{"identifier":{"display-name":"PDF","target-format":"pdf","base-format":"pdf"},"execute":{"fig-width":5.5,"fig-height":3.5,"fig-format":"pdf","fig-dpi":300,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"pdf","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":true,"merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"pdf-engine":"lualatex","standalone":true,"variables":{"graphics":true,"tables":true},"default-image-extension":"pdf","to":"pdf","self-contained":true,"toc":false,"output-file":"cs_markov_alive-dead.pdf"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"block-headings":true,"title":"Case Study: Alive-Dead Model","editor_options":{"chunk_output_type":"console"}},"extensions":{"book":{"selfContainedOutput":true}}}},"projectFormats":["html"]}